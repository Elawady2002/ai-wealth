(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},61668,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(17927),a=e.i(18566);let u=(0,r.createContext)(void 0),o=e=>{let t=e.replace(/\/$/,"")||"/";return["/login","/signup","/forgot-password","/reset-password"].some(e=>t===e||t.endsWith(e))};function i({children:e}){let[i,n]=(0,r.useState)(null),[l,d]=(0,r.useState)(null),[c,h]=(0,r.useState)(!0),g=(0,a.useRouter)(),m=(0,a.usePathname)();(0,r.useEffect)(()=>{s.supabase.auth.getSession().then(({data:{session:e}})=>{d(e),n(e?.user??null),h(!1)});let{data:{subscription:e}}=s.supabase.auth.onAuthStateChange(async(e,t)=>{d(t),n(t?.user??null),h(!1),"SIGNED_IN"===e&&o(m)&&g.push("/"),"SIGNED_OUT"===e&&g.push("/login")});return()=>e.unsubscribe()},[m,g]),(0,r.useEffect)(()=>{c||i||o(m)},[i,c,m,g]);let p=async(e,t)=>{let{error:r}=await s.supabase.auth.signInWithPassword({email:e,password:t});return{error:r}},w=async(e,t)=>{let{error:r}=await s.supabase.auth.signUp({email:e,password:t,options:{emailRedirectTo:`${window.location.origin}/login`}});return{error:r}},v=async()=>{await s.supabase.auth.signOut()},b=async e=>{let{error:t}=await s.supabase.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return{error:t}},f=async e=>{let{error:t}=await s.supabase.auth.updateUser({password:e});return{error:t}};return(0,t.jsx)(u.Provider,{value:{user:i,session:l,loading:c,signIn:p,signUp:w,signOut:v,resetPassword:b,updatePassword:f},children:e})}function n(){let e=(0,r.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>i,"useAuth",()=>n])},84540,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let s=(0,r.createContext)(void 0);function a({children:e}){let[a,u]=(0,r.useState)("dark");(0,r.useEffect)(()=>{o("dark")},[]);let o=e=>{u(e),localStorage.setItem("theme",e),document.documentElement.classList.toggle("light","light"===e),document.documentElement.classList.toggle("dark","dark"===e)};return(0,t.jsx)(s.Provider,{value:{theme:a,toggleTheme:()=>{o("dark"===a?"light":"dark")},setTheme:o},children:e})}function u(){let e=(0,r.useContext)(s);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}e.s(["ThemeProvider",()=>a,"useTheme",()=>u])}]);